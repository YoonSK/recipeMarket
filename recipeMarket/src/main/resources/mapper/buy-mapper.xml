<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="buyMapper">
  
	<resultMap type="Cart" id="CartRS">
		<result property = "productNo" column="PRODUCT_NO"/>	
		<result property = "memberNo" column ="MEMBER_NO"/>
		<result property = "prCount" column ="PR_COUNT"/>
		<result property = "pName" column ="PNAME"/>
		<result property = "phName" column="PHNAME"/>		
		<result property = "price" column ="PRICE"/>
	</resultMap>  
  
  	<select id="cartList" resultMap="CartRS">
		SELECT C.PRODUCT_NO, P.NAME AS "PNAME", PR_COUNT, PRICE, CHANGE_NAME AS "PHNAME"
		FROM CART C
		    JOIN PRODUCT P ON (C.PRODUCT_NO = P.PRODUCT_NO)
		    LEFT OUTER JOIN PHOTO ON(C.PRODUCT_NO = TARGET_NO AND BOARD_NO = 3)    
		WHERE MEMBER_NO	= #{memberNo}
  	</select>
  
  
  
</mapper>
